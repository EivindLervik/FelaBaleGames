<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>MAIN</name>
    <events>
        <include>DialogueSystem</include>
        <include>Controller</include>
        <include>SoundHandler</include>
        <include>Characters</include>
        <event-block sid="707283695066593">
            <conditions>
                <condition id="5" name="On any finished" sid="531333515386187" type="TublastEffect" />
            </conditions>
            <actions>
                <action id="-9" name="Destroy" sid="108740122591498" type="TublastEffect" />
            </actions>
        </event-block>
        <event-block sid="561379453867287">
            <conditions>
                <condition id="1" name="Is overlapping another object" sid="720060850671796" type="Fighters">
                    <param id="0" name="Object">Door</param>
                </condition>
                <condition id="-4" name="Trigger once while true" sid="317233525803127" type="System" />
            </conditions>
            <actions />
            <sub-events>
                <event-block sid="477869872204627">
                    <conditions>
                        <condition id="3" name="Compare frame" sid="820732221421236" type="Door">
                            <param id="0" name="Comparison">0</param>
                            <param id="1" name="Number">0</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="355859767610243">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="712369071189789" type="Fighters">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="X co-ordinate">Door.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="930832508166754" type="Door">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="182652919653603">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="808631436314010" type="Fighters">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">Door.X</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="5" name="Set frame" sid="763471953093114" type="Door">
                                    <param id="0" name="Frame number">2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
        <event-block sid="830759006669862">
            <conditions>
                <condition id="1" inverted="1" name="Is overlapping another object" sid="913417001221311" type="Fighters">
                    <param id="0" name="Object">Door</param>
                </condition>
                <condition id="-4" name="Trigger once while true" sid="639130581462334" type="System" />
            </conditions>
            <actions>
                <action id="5" name="Set frame" sid="428782362219566" type="Door">
                    <param id="0" name="Frame number">0</param>
                </action>
            </actions>
        </event-block>
        <event-block sid="132274498875739">
            <conditions>
                <condition id="0" name="On collision with another object" sid="969671910036971" type="Fighters">
                    <param id="0" name="Object">SceneTrigger</param>
                </condition>
            </conditions>
            <actions>
                <action id="-25" name="Go to layout (by name)" sid="173252784969771" type="System">
                    <param id="0" name="Layout">SceneTrigger.Scene</param>
                </action>
            </actions>
        </event-block>
        <event-group description="" sid="432638811671028" title="Fading">
            <sub-events>
                <variable constant="0" name="Action" sid="774751819762491" static="1" type="text">FadeIn</variable>
                <event-block sid="934625462345205">
                    <conditions>
                        <condition id="0" name="On function" sid="140145190828393" type="Function">
                            <param id="0" name="Name">&quot;Fade_FadeIn&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="503034890614234" type="System">
                            <param id="0" name="Variable">Action</param>
                            <param id="1" name="Value">&quot;FadeIn&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="393395589148788">
                    <conditions>
                        <condition id="0" name="On function" sid="174970401541393" type="Function">
                            <param id="0" name="Name">&quot;Fade_FadeOut&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Set value" sid="317919714584212" type="System">
                            <param id="0" name="Variable">Action</param>
                            <param id="1" name="Value">&quot;FadeOut&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="494269496011689">
                    <conditions>
                        <condition id="0" name="On function" sid="613807699754423" type="Function">
                            <param id="0" name="Name">&quot;Fade_SetVisible&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-18" name="Set layer opacity" sid="453200533225240" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Opacity">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="248251454806309">
                    <conditions>
                        <condition id="0" name="On function" sid="223681614781859" type="Function">
                            <param id="0" name="Name">&quot;Fade_SetInvisible&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-18" name="Set layer opacity" sid="440078017096056" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Opacity">100</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="619843128592853">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="357570442827090" type="System">
                            <param id="0" name="Variable">Action</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;FadeIn&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-18" name="Set layer opacity" sid="305318657605937" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Opacity">lerp(LayerOpacity(&quot;Fader&quot;), 0, 0.04)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="975582348807839">
                            <conditions>
                                <condition id="-17" name="Compare opacity" sid="347091992980608" type="System">
                                    <param id="0" name="Layer">&quot;Fader&quot;</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Opacity">1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="950822888098101" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="467449089374851" type="Function">
                                    <param id="0" name="Name">&quot;Fade_SetVisible&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="501181809463281">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="423186822872262" type="System">
                            <param id="0" name="Variable">Action</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;FadeOut&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-18" name="Set layer opacity" sid="350065026328890" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Opacity">lerp(LayerOpacity(&quot;Fader&quot;), 100, 0.04)</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="724073559886811">
                            <conditions>
                                <condition id="-17" name="Compare opacity" sid="670681159326627" type="System">
                                    <param id="0" name="Layer">&quot;Fader&quot;</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Opacity">99</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="739418115435051" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="966170245870076" type="Function">
                                    <param id="0" name="Name">&quot;Fade_SetInvisible&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="911279352014111">
                    <conditions>
                        <condition id="-17" name="Compare opacity" sid="687021006430481" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Opacity">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="158960039253236" type="System" />
                    </conditions>
                    <actions>
                        <action id="-42" name="Signal" sid="533326176830284" type="System">
                            <param id="0" name="Tag">&quot;FadedIn&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="693921904696570">
                    <conditions>
                        <condition id="-17" name="Compare opacity" sid="364858571856833" type="System">
                            <param id="0" name="Layer">&quot;Fader&quot;</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Opacity">100</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="172000964019402" type="System" />
                    </conditions>
                    <actions>
                        <action id="-42" name="Signal" sid="798985727729791" type="System">
                            <param id="0" name="Tag">&quot;FadedOut&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="340000395892110" title="HUD">
            <sub-events>
                <event-block sid="252392842785789">
                    <conditions>
                        <condition id="0" name="On function" sid="736073763553762" type="Function">
                            <param id="0" name="Name">&quot;HUD_Show_VerticalLifebar&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="208082461785878" type="ScooterHealth_Frame">
                            <param id="0" name="Visibility">1</param>
                        </action>
                        <action id="-15" name="Set visible" sid="823874416136777" type="ScooterHealth_Bar">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="741732474107670">
                    <conditions>
                        <condition id="0" name="On function" sid="269227424405462" type="Function">
                            <param id="0" name="Name">&quot;HUD_Hide_VerticalLifebar&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="545417295807233" type="ScooterHealth_Frame">
                            <param id="0" name="Visibility">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="370344238044185" type="ScooterHealth_Bar">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="501733670377449">
                    <conditions>
                        <condition id="0" name="On function" sid="457290633016218" type="Function">
                            <param id="0" name="Name">&quot;HUD_SetVLPercent&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="159454853121548">
                            <conditions>
                                <condition id="-9" name="Is visible" sid="456068185887443" type="ScooterHealth_Bar" />
                            </conditions>
                            <actions>
                                <action id="-6" name="Set height" sid="975460066959536" type="ScooterHealth_Bar">
                                    <param id="0" name="Height">clamp(58 * (Function.Param(0) / 100), 0, 100)</param>
                                </action>
                                <action id="5" name="Set frame" sid="718159841708551" type="ScooterHealth_Bar">
                                    <param id="0" name="Frame number">clamp(floor(Function.Param(0) / 10), 0, 10)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
